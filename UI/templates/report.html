```html
{% extends 'index.html' %}

{% block body %}

<div class="container-fluid">

    <!-- Generate Report Form -->
    <form method="post" action="/admin/report" class="row" id="generateReportForm">
        <div class="form-group col-md-4">
            <label for="start_date">Start Date:</label>
            <input type="text" class="form-control datepicker" name="start_date" id="start_date" placeholder="Select Start Date of Search">
        </div>
        <div class="form-group col-md-4">
            <label for="end_date">End Date:</label>
            <input type="text" id="end_date" name="end_date" class="form-control datepicker"  placeholder="Select End Date of Search">
        </div>
        <div class="form-group col-md-4 align-self-end">
            <button type="button" class="btn btn-primary btn-block" id="generateReportButton">Generate Report</button>
        </div>
    </form>

    <!-- Report Table Section -->
    <div id="reportTableSection" style="display: none;">
        <h3>Report</h3>
        <table id="searchQueriesTable" class="table table-striped table-bordered"> 
            <thead class="table-dark">
                <tr>
                    <th>Date</th>
                    <th>User</th>
                    <th>Search Query</th>
                </tr>
            </thead>
            <tbody id="searchQueriesTableBody">
                <!-- Search queries will be dynamically added here -->
            </tbody>
        </table>
    </div>

</div>

{% endblock %}

{% block scripts %}

<!-- Add Bootstrap-datepicker JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        // Initialize datepicker
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd', // Set the date format
            autoclose: true, // Close the datepicker when a date is selected
            todayHighlight: true // Highlight today's date
        });

        // Function to toggle visibility of report table section
        function toggleReportSection() {
            $('#reportTableSection').toggle();
        }

        // Event listener for Generate Report button click
        $('#generateReportButton').click(function () {
            // Perform any necessary validation here before submitting the form
            // For simplicity, assuming the form is valid
            $('#generateReportForm').submit();
        });

        // Handle form submission
        $('#generateReportForm').submit(function (event) {
            event.preventDefault(); // Prevent default form submission
            
            // Submit the form using AJAX
            $.ajax({
                type: $(this).attr('method'),
                url: $(this).attr('action'),
                data: $(this).serialize(),
                success: function (response) {
                    // Display search results in the table
                    $('#searchQueriesTableBody').empty(); // Clear previous results
                    response.forEach(function (query) {
                        var row = '<tr>' +
                            '<td>' + query.timestamp + '</td>' +
                            '<td>' + query.email + '</td>' +
                            '<td>' + query.search_query + '</td>' +
                            '</tr>';
                        $('#searchQueriesTableBody').append(row);
                    });
                    toggleReportSection(); // Show report table section
                },
                error: function () {
                    alert('Error occurred while fetching search results.');
                }
            });
        });
    });
</script>

{% endblock scripts %}